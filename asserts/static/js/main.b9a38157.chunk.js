(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,a,t){e.exports=t(58)},35:function(e,a,t){},58:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(22),s=t.n(o),l=t(10),c=(t(35),t(6)),i=t(7),m=t(12),u=t(8),d=t(13),p=t(61),h=t(63),E=t(62),v="https://idobelieveinmiracle-vah-taka-api-ver1-01.glitch.me/api",g=t(16),b=t.n(g),f=t(60);function w(e){var a=""!==e.id?r.a.createElement(f.a,{to:"/",onClick:function(a){a.preventDefault(),e.logout()}},"Log out"):r.a.createElement("span",null);return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-default"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement(f.a,{className:"navbar-brand",to:"/"},"Taka")),r.a.createElement("ul",{className:"nav navbar-nav"},r.a.createElement("li",null,r.a.createElement(f.a,{to:"#"},"Item manager")),r.a.createElement("li",null,r.a.createElement(f.a,{to:"#"},"Order manager")),r.a.createElement("li",null,a)))))}var k=t(23),N=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={username:"",password:""},t.handleChange=function(e){t.setState(Object(k.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.login(t.state.username,t.state.password),t.props.history.push("/")},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return""!==this.props.id?r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"Loged in")):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-2"}),r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("h1",{style:{textAlign:"center"}},"\u0110\u0103ng nh\u1eadp"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"T\xean d\u0103ng nh\u1eadp:"),r.a.createElement("input",{type:"text",className:"form-control",id:"username",placeholder:"Enter username",name:"username",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"M\u1eadt kh\u1ea9u:"),r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter password",name:"password",onChange:this.handleChange})),r.a.createElement("button",{id:"submitBtn",type:"submit",className:"btn btn-default"},"\u0110\u0103ng nh\u1eadp"),r.a.createElement("br",null),r.a.createElement("br",null)))))}}]),a}(n.Component),O=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={id:"",username:"",password:""},t.componentDidMount=function(){var e=t.props.cookies.cookies,a=e.username,n=e.password;console.log(a),b.a.post("".concat(v,"/users/login"),{username:a,password:n}).then(function(e){200===e.status&&"Ad"===e.data.role&&(t.props.cookies.set("username",a),t.props.cookies.set("password",n),t.setState({username:a,password:n,id:e.data._id}))}).catch()},t.login=function(e,a){b.a.post("".concat(v,"/users/login"),{username:e,password:a}).then(function(n){200===n.status&&"Ad"===n.data.role?(t.props.cookies.set("username",e),t.props.cookies.set("password",a),t.setState({username:e,password:a,id:n.data._id})):alert("Login failed")}).catch(function(e){return alert("Login failed")})},t.logout=function(){t.props.cookies.set("username",""),t.props.cookies.set("password",""),t.setState({username:"",password:"",id:""}),window.location.reload()},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(w,{id:this.state.id,logout:this.logout}),r.a.createElement("div",{className:"container"},r.a.createElement(h.a,null,r.a.createElement(E.a,{path:"/",render:function(a){return r.a.createElement(N,Object.assign({},a,{id:e.state.id,login:e.login}))}})))))}}]),a}(n.Component),j=Object(l.b)(O);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(l.a,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.b9a38157.chunk.js.map